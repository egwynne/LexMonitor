{% load static %}

<!DOCTYPE html>

<html lang="en" class="light-style customizer-hide" dir="ltr" data-theme="theme-default-dark"
  data-assets-path="{% static '/' %}" data-template="vertical-menu-template">

<head>
  <meta charset="utf-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

  <title>Registro | LeyTracker</title>

  <meta name="description" content="" />

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="{% static 'img/icons/LT_icon.png' %}" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
    rel="stylesheet" />

  <!-- Icons -->
  <link rel="stylesheet" href="{% static 'vendor/fonts/fontawesome.css' %}" />
  <link rel="stylesheet" href="{% static 'vendor/fonts/tabler-icons.css' %}" />
  <link rel="stylesheet" href="{% static 'vendor/fonts/flag-icons.css' %}" />

  <!-- Core CSS -->
  <link rel="stylesheet" href="{% static 'vendor/css/rtl/core-dark.css' %}" class="template-customizer-core-css" />
  <link rel="stylesheet" href="{% static 'vendor/css/rtl/theme-default-dark.css' %}" class="template-customizer-theme-css" />
  <link rel="stylesheet" href="{% static 'css/demo.css' %}" />

  <!-- Vendors CSS -->
  <link rel="stylesheet" href="{% static 'vendor/libs/perfect-scrollbar/perfect-scrollbar.css' %}" />
  <link rel="stylesheet" href="{% static 'vendor/libs/node-waves/node-waves.css' %}" />
  <link rel="stylesheet" href="{% static 'vendor/libs/typeahead-js/typeahead.css' %}" />
  <!-- Vendor -->
  <link rel="stylesheet" href="{% static 'vendor/libs/formvalidation/dist/css/formValidation.min.css' %}" />

  <!-- Page CSS -->
  <!-- Page -->
  <link rel="stylesheet" href="{% static 'vendor/css/pages/page-auth.css' %}" />
  <!-- Helpers -->
  <script src="{% static 'vendor/js/helpers.js' %}"></script>

  <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
  <!--? Template customizer: To hide customizer set displayCustomizer value false in config.js.  -->
  <script src="{% static 'vendor/js/template-customizer.js' %}"></script>
  <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
  <script src="{% static 'js/config.js' %}"></script>
</head>

<body>
  <!-- Content -->
  <div id="root">
    <div id="app" class="full-layout wrapper bg-full-screen-image blank-page dark-layout">


      <div class="container-xxl">
        <div class="authentication-wrapper authentication-basic container-p-y">
          <div class="authentication-inner py-4">
            <!-- Registro -->
            <div class="card">
              <div class="card-body">
                <!-- Logo 
            <div class="app-brand justify-content-center mb-4 mt-2">
              <a href="/" class="app-brand-link gap-2">
                <img class="img img-fluid" src="{% static 'img/icons/logo.png' %}" alt="">
              </a>
            </div>
             /Logo 
                <h4 class="mb-1 pt-2">Bienvenido a Palumbo! ðŸ‘‹</h4>-->
                <div class="app-brand justify-content-center mb-4 mt-2">
                  <a href="/" class="app-brand-link gap-2">
                    <img class="img img-fluid" src="{% static '\img\icons\LEY_TRACKER.png' %}" alt="">
                  </a>
                </div>
                <p class="text-center mb-4">Complete el siguiente formulario para crear una nueva cuenta.</p>
                <p>{{registrado}}</p>
                <form id="formAuthentication" class="mb-1" action="{% url 'register' %}" method="POST">
                  {% csrf_token %}
                  <div class="row justify-content-between">
                    <div class="col-6 mb-3">
                      <input v-model="nuevo_cliente.nombre" type="text" class="form-control" id="nombre" name="nombre" placeholder="Nombre" autofocus />
                    </div>
                    <div class="col-6 mb-3">
                      <input v-model="nuevo_cliente.apellido" type="text" class="form-control" id="apellido" name="apellido" placeholder="Apellido" />
                    </div>
                  </div>
                  <div class="mb-3">
                    <input v-model="nuevo_cliente.rut" type="text" class="form-control" id="rut" name="rut" placeholder="Rut"/>
                  </div>
                  <div class="mb-3">
                    <input v-model="nuevo_cliente.email" type="text" class="form-control" id="email" name="email" placeholder="Email"/>
                  </div>
                  <div class="mb-3">
                    <input v-model="nuevo_cliente.telefono" type="text" class="form-control" id="telefono" name="telefono" placeholder="Telefono"/>
                  </div>
                  <div class="mb-3 form-password-toggle">
                    <div class="input-group input-group-merge">
                      <input v-model="nuevo_cliente.password1" type="password" id="password" class="form-control" name="password"
                        placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;"
                        aria-describedby="password" />
                      <span class="input-group-text cursor-pointer"><i class="ti ti-eye-off"></i></span>
                    </div>
                  </div>
                  <div class="mb-3 form-password-toggle">
                    <div class="input-group input-group-merge">
                      <input v-model="nuevo_cliente.password2" type="password" id="confirm-password" class="form-control" name="confirm-password"
                        placeholder="Confirmar contraseÃ±a"
                        aria-describedby="password" />
                      <span class="input-group-text cursor-pointer"><i class="ti ti-eye-off"></i></span>
                    </div>
                  </div>
                  <div class="mb-3">
                    <div class="form-check">
                      <input class="form-check-input" type="checkbox" id="terms" name="terms" />
                      <label class="form-check-label" for="terms">Acepto los <a href="/register">Terminos y
                          condiciones</a></label>
                    </div>
                  </div>
                  <div class="mb-3">
                    <button class="btn btn-primary d-grid w-100 mt-2" type="button" v-on:click="">Registro</button>
                  </div>
                </form>
                <div>
                  <a href="/"><button class="btn btn-secondary d-grid w-100 mt-1">Volver</button></a>
                </div>
              </div>
            </div>
            <!-- /Register -->
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- / Content -->

  <!-- Core JS -->
  <!-- build:js assets/vendor/js/core.js -->
  <script src="{% static 'vendor/libs/jquery/jquery.js' %}"></script>
  <script src="{% static 'vendor/libs/popper/popper.js' %}"></script>
  <script src="{% static 'vendor/js/bootstrap.js' %}"></script>
  <script src="{% static 'vendor/libs/perfect-scrollbar/perfect-scrollbar.js' %}"></script>
  <script src="{% static 'vendor/libs/node-waves/node-waves.js' %}"></script>

  <script src="{% static 'vendor/libs/hammer/hammer.js' %}"></script>
  <script src="{% static 'vendor/libs/i18n/i18n.js' %}"></script>
  <script src="{% static 'vendor/libs/typeahead-js/typeahead.js' %}"></script>

  <script src="{% static 'vendor/js/menu.js' %}"></script>
  <!-- endbuild -->

  <!-- Vendors JS -->
  <script src="{% static 'vendor/libs/formvalidation/dist/js/FormValidation.min.js' %}"></script>
  <script src="{% static 'vendor/libs/formvalidation/dist/js/plugins/Bootstrap5.min.js' %}"></script>
  <script src="{% static 'vendor/libs/formvalidation/dist/js/plugins/AutoFocus.min.js' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue-select2@latest"></script>

  <!-- Main JS -->
  <script src="{% static 'js/main.js' %}"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- Page JS -->
  <script src="{% static 'js/pages-auth.js' %}"></script>

  <script type="module">
    new Vue({
      //import axios from 'axios';
  
      el: "#app",
      delimiters: ['[[', ']]'],
      data: {
       nuevo_cliente: {
        nombre: "",
        apellido: "",
        rut: "",
        email: "",
        telefono: "",
        password1: "",
        password2: ""
       }
      },
      mounted() {
      },
      created() {
      },
      methods: {
        //registrar_cliente() {
        //  axios.post('/api/create/cliente/anonymous', this.nuevo_cliente)
        //    .then(response => {
        //      let confirmButton = 'Ok';
        //      let cancelButton = false;
        //      if (response.data.status !== 'success') {
        //          confirmButton = false;
        //          cancelButton = 'Volver';
        //      }
        //      Swal.fire({
        //        title: response.data.title,
        //        icon: response.data.status,
        //        text: response.data.registrado,
        //        showConfirmButton: confirmButton !== false,
        //        confirmButtonText: confirmButton,
        //        showCancelButton: cancelButton !== false,
        //        cancelButtonText: cancelButton,
        //        timer: 10000,
        //      }).then(function (result) {
        //          // Si el usuario hizo clic en "Ok", result.value serÃ¡ true
        //          if (result.isConfirmed) {
        //              window.location.href = '/';
        //          }
        //      });
        //    })
        //    .catch(error => {
        //      Swal.fire(
        //        'Error!',
        //        'ha ocurrido un error, porfavor contactate con un administrador.',
        //        'error'
        //      )
        //    });
        //  console.log(this.nuevo_cliente)
        //}
      },
    });
  </script>
</body>

</html>